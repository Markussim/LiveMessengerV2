@page
@using LiveMessenger.Pages
@model IndexModel
@{
    ViewData["Title"] = "Hem";
}
@section Links {
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
}

<div class="text-center">
    <h1 class="display-4 my-5">Välkommen, @Model.Username!</h1>
    <div id="rooms" class="row d-flex justify-content-around">

        @for (int i = 0; i < @Model.Rooms.Count; i++)
        {
            @if (i % 4 == 0)
            {
                <div class="w-100"></div>
            }

            @if (@Model.Rooms[i].GetElement("Private").Value == true)
            {
                <div class="card mb-5" style="width: 20%">
                    <div class="card-body d-flex flex-column justify-content-around">
                        <h5 class="card-title" style="color: #004e7c;">
                            <i class="bi bi-lock-fill"></i>
                            <b>
                                @Model.Rooms[i].GetElement("Name").Value
                            </b>
                        </h5>
                        <p class="card-text">
                            @Model.Rooms[i].GetElement("Description").Value
                        </p>
                        <a href="/Chat?id=@Model.Rooms[i].GetElement("_id").Value"
                    class="card-link stretched-link btn btn-primary" style="background-color: #004e7c;">Gå med</a>
                    </div>
                </div>
            }
            else
            {
                <div class="card mb-5" style="width: 20%">
                    <div class="card-body d-flex flex-column justify-content-around">
                        <h5 class="card-title" style="color: #004e7c;">
                            <b>
                                @Model.Rooms[i].GetElement("Name").Value
                            </b>
                        </h5>
                        <p class="card-text">
                            @Model.Rooms[i].GetElement("Description").Value
                        </p>
                        <a href="/Chat?id=@Model.Rooms[i].GetElement("_id").Value"
                    class="card-link stretched-link btn btn-primary" style="background-color: #004e7c;">Gå med</a>
                    </div>
                </div>
            }
        }
    </div>
</div>
